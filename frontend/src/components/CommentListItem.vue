<template>
  <div class="comment">
    <div class="photo">
      <img :src="user.photo" :alt="user.username">
      <EstimationWidget>
        <div>üåü{{ comment.roundedScore() }}</div>
      </EstimationWidget>
    </div>
    <div class="text">{{ comment.text }}</div>
  </div>
</template>

<script lang="ts">

import EstimationWidget from '@/components/BaseEstimation.vue'
import { Comment, User } from '@/api/schemas'
import { defineComponent } from 'vue'

interface State {
  user: User | null
}
export default defineComponent({
  components: { EstimationWidget },
  props: {
    comment: {
      type: Comment,
      required: true
    }
  },
  data (): State {
    return {
      user: null
    }
  },
  created () {
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –ø–æ–ª—é comment.user
    this.user = new User({
      username: 'vovan',
      email: 'vovanex12@gmail.com',
      photo: 'http://127.0.0.1/media/users/photos/%D0%9D%D0%B0_%D0%BF%D0%B0%D1%81%D0%BF%D0%BE%D1%80%D1%82.jpg',
      is_staff: true
    })
  }
})

</script>

<style scoped>

.comment .photo {
  border-top: none;
  width: 110px;
  min-width: 110px;
}

.comment {
  display: flex;
  margin-top: 10px;
  border-top: 5px solid rgba(63, 159, 248, 0.7);
  max-height: 200px;
}

.comment .text {
  overflow: scroll;
  overflow-x: hidden;
}

</style>
